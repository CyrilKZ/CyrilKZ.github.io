<!DOCTYPE html>
<html>
    <head>
        <title>CyrilKZ@THU-article</title>
        <link rel="stylesheet" href="..\styles.css">
        <meta charset="UTF-8">
    </head>
    <body class="main-body">
        <header class="top-bar">
            <div class="top-bar-left">CyrilKZ@THU</div>
            <div class="top-bar-right">
                <a class="top-bar-link" href="0-timeline.html">时间轴</a>
                <a class="top-bar-link" href="0-personal-intro.html">关于我</a>
            </div>
        </header>
        <div class = "article-main">
            <h2>VS Code Remote 使用心得</h2>
            <p>by tht @ thu</p>
            <p>&nbsp;</p>
            <p>在web前端实训第四次基础实验中，我使用了前不久微软推出的VS Code Remote SSH拓展进行了第一版代码的创建和编程（虽然最后提交作业时并没有使用这个版本）。</p>
            <h3>功能简介</h3>
            <p>Remote SSH会在远程Linux系统上部署一个VS Code服务器，在此基础上可以用VS Code编辑器直接对远程服务器上的文件进行编辑。效果上类似于在服务器上安装了一个只具有终端和文件操作的低配图形界面，而且这个图形界面本身是运行在本地的，理论上不会占用大量服务器的资源。</p>
            <h4>优点：</h4>
            <p>在本次实验中，我感受到VS Code Remote的优点主要集中在文件管理的可视化和文本编辑的方便性上。</p>
            <p>对于习惯了Windows图形界面的用户来说，用Linux的ls命令虽然能够列出文件夹、文件列表，但是效果可能不如VS Code随时可见的文件视图来得直接。</p>
            <p>在编辑文本上，远程服务器上一般只会有vim编辑器，但是vim对于文本编辑尤其是Node.js程序编写并不是最友好的（主要是不方便随时查阅文档、获得填充建议等），而VS Code Remote可以使用VS Code编辑器，方便同时对一个项目下的多个文件进行修改，同时还可以使用大量扩展（如git，eslint等）来优化程序编写体验。</p>
            <h4>缺点：</h4>
            <p>在完成作业时，我的服务器出现了内存占用过大导致卡死的情况。在充分利用搜索引擎后，确定了罪魁祸首就是VS Code Remote，内存问题主要是以下两个原因造成的：</p>
            <ul>
            <li>VS Code Remote的网络连接存在问题，在仍然与远程端连接时会错误认为连接断开，触发断线重连。然而有趣的是每次断线重连的时间都长到需要重新进行准入认证。</li>
            <li>在每次断线重连时，之前由VS Code打开的终端进程不会被kill掉，但是VS Code本身会不再管理这些进程（用户也无法通过VS Code提供的功能去管理这些进程，甚至根本不知道这些进程还存在于内存中）。因此频繁的掉线重连后后台将会出现大量无用但是消耗内存的“野进程”，逐渐把内存占满。</li>
            
            </ul>
            <p>而这个bug一直到现在还没有被修复。当然这也是因为这个拓展本身才被发布，Stackoverflow上也是今年5月份才有对这个bug的讨论。</p>
            <h4>规避缺点的方法：</h4>
            <p>理论上，在知道问题所在后，只要每次断线重连之后手动在终端kill掉后台冗余进程即可。但实际上我并没有这么做，自从服务器完全卡死一次之后我选择暂时先别那么信任这个拓展，因此换用了老式的git方法来上传代码至服务器。</p>
            <h3>总结</h3>
            <p>多尝试新生事物是好的，但是盲目信任新生事物是不好的：）</p>
        </div>

        <footer class="foot-bar">
            <div class="foot-note-middle">
                <p>这个位置留给还不存在的赞助商</p>
                <p>请不要将该页面缩放成奇怪的形状</p>
                <p>Hosted by Github Pages</p>
                <p>Copyright ©2019 CyrilKZ</p>
            </div>
        </footer>
    </body>   
</html>